%\section{はじめに}

理学部物理学科3年夏学期の講義「計算機実験」は、理論・実験を問わず、学部〜大学院〜で必要とされる現代的かつ普遍的な計算機の素養を身につけることを目標としている。基礎的な数値計算アルゴリズムとその応用を学習するだけでなく、実習を通じて、計算機の操作、C言語を用いたプログラミング技術、\LaTeX による科学論文の作成技術、バージョン管理システムによる履歴管理などを学ぶ。

本冊子は、「計算機実験」の時間に、より効果的に実習を進めることができるよう、必要とされる技術的な点をまとめたものである。大いに役立てて欲しい。また、間違いや不明な点などがある場合には、担当教員、あるいはティーチングアシスタントまでぜひ知らせてほしい。

実習は主として教育用計算機システムECCSの端末(iMac)を用いるが、iMacへのログイン方法や基本的な操作方法、Webやメールの利用方法などについては、本書では触れていない。教育用計算機システムの「利用の手引」(http://www.ecc.u-tokyo.ac.jp/guide/current/)に詳しい解説があるので、そちらを参照のこと。

%% この冊子は、計算機実験の時間を使ってみなさんに、
%% 計算機により親しんでいただけるように、計算機の使い方を説明することを目的として書かれました。

%% 計算機を使っていて困ったことがおきたり、質問がある場合には、学生実験担当の先生かティーチングアシスタントまで知らせてください
%% \footnote{電子メールのアドレスは \admin です。}。
%% その際、何をどうしたらどうなったと具体的に知らせることが重要です。
%% ただ「うまくいかない」では、対処のしようがありません。

%% \section{講義と実習の進め方}

%% 本「計算機実験」では、クラス全体を2つのグループに分け、原則として講義と実習を\underline{毎週交互}に行う。講義は\underline{理学部4号館1220室}、実習は\underline{本郷キャンパス浅野地区の情報基盤センター1F大演習室2}で行う。講義と演習は異なる場所で行うので、間違えないこと。グループ分けと各グループのスケジュールについては、講義初回に説明するので、初回は\underline{全員、講義室(理学部4号館1220室)}に出席すること。

%% \section{実習環境について}

%% 実習は、主として教育用計算機システムECCSの端末(iMac)を用いる。教育用計算機システムECCSのアカウントが必要である。\underline{初回の講義が始まるまでに、ECCSにログインできるかどうか確認しておくこと}。パスワードを紛失・失念した場合は，情報基盤センターでパスワード再発行の手続きが必要必要となる。再発行から利用可能になるまでしばらく時間がかかるので、早めに手続を行うこと。

%% また、プログラムの作成・実行については、物理学科の実習用ワークステーションも利用する。実習用ワークステーションのパスワードは初回実習時に配布する。

%% \subsection{自習について}

%% 計算機自習環境として、以下が利用可能である。積極的に活用してほしい。

%% \begin{itemize}
%% \item 理学部分散配置端末室(理学部1号館3階317室)

%%   教育用計算機システムECCSの分散配置端末(iMac 20台)が用意されいる。夜間・週末を除き原則として開放されており、他の授業などで使われていない限り、自由に利用することができる。ECCS端末は総合図書館や情報基盤センター自習室などにも用意されている。

%% \item 物理学科の実習ワークステーション

%%   ECCS端末などからSSHリモートログインして利用する。学外(自宅など)からの利用も可能である。

%% \item 仮想環境 (Debian Live Linux)

%%   ノートPC (Mac, Windows)の上で動作する仮想環境を配布する。

%% \item Mac, Windows上での実習

%%   自力で、実習に必要な環境を整えることもそれほど難しくはない。
%% \end{itemize}


%% \section{講義・実習に関する連絡について}

%% 講義・実習に関する事務的な連絡、講義資料の配布、出席登録、レポート提出などは、情報基盤センター学習管理システム ITC-LMS を用いて行う。
%% \begin{quote}
%%   https://itc-lms.ecc.u-tokyo.ac.jp/
%% \end{quote}
%% ITC-LMSの利用にも、教育用計算機システムECCSのアカウントが必要である。

%% \begin{center}
%% \doublebox{ECCの端末} $\rightarrow$ \doublebox{???}\\
%% \end{center}

%% %とECCのサーバーを経由して \Machine にログインする必要があります。\\
%% これらに必要なものは\underline{ECC計算機と ??? 計算機}の両方のアカウントです。

%% 以下に、??? へのログインの手順を説明します。
%% \begin{enumerate}
%% \item あいているECCの端末(iMac)を見つけて、電源が入っているかを確認します。
%% \item マウスやキーボードを操作しても画面に何も表示されない場合は、電源が切れています。
%% その時には端末の画面後部の左側にある電源ボタンを押して、電源を投入してください。
%% しばらくすると、ログイン画面が表示されます。
%% \item "Name"と書かれたフィールドにECCのログイン名を入力してください。次に"Password"と書かれた
%% フィールドにECCのパスワードを入力してください。ログイン名、パスワード共、間違って入力した場合は、
%% \BS で修正してください。
%% \item \ret を押すか、"Log In"と書かれたボタンをマウスでクリックするかしてください。
%%   暫く待っているとデスクトップの画面が出てきます。
%% \item 画面の下に多くのショートカットのアイコンがあります。その中で\underline{大文字のX}が
%%   描かれたアイコンをクリックします。クリックするとxtermが起動します。\\
%%   そのxtermで、\\
%%     {\tt \promptECC \underline{slogin {\it user}@\MachineFull\ -X}} \ret \\
%%   と入力します。{\it user} には自分のアカウントを入れます ({\tt s001500} 等)。
%%   \verb|-X| (大文字) というoptionを忘れないでください。このoptionはemacsやpostscript fileを
%%   新しいウインドウで見るためのおまじないです。\Machine に初めてアクセスする場合は、{\tt yes/no}の質問を
%%   聞かれるので{\tt yes}と答えます。
  
%%   \par その後、以下の様にパスワードを要求されるので
%%   \underline{\Machine 計算機のパスワード}を打ち込みます。\\
%%     {\tt {\it user}@\Machine's password:\underline{$********{}$(実際には表示されません)}} \ret\\
%%   パスワードの入力を間違えた場合は、\ret を押して初めから入力し直して下さい。
%%   \BS で修正する事はできません。
  
%%   %\item ux101にログイン後、\\
%%   %\underline{{\tt slogin 自分のアカウント@\MachineFull\ -X}} [return] \\
%%   %とします。ここでもoptionの-Xを忘れないでください。今回も、\Machine に初めてアクセスする場合は、
%%   %{\tt yes/no}の質問を
%%   %聞かれるので{\tt yes}と答えて、その後、パスワードを要求されるので
%%   %\underline{\Machine 計算機のパスワード}を打ち込みます。\label{step:3}
%% \end{enumerate}
%% これで \Machine へのログインが終了しました。

%% %まず空いている端末を探しましょう。空いている端末には、図\ref{fig: login panel}のような
%% %ログインパネルと呼ばれる絵が出ています。画面が真っ暗だったらマウスを動かしてみましょう。
%% %マウスを動かしても画面の様子が変わらない場合、電源が切られている可能性があります。
%% %整備中などのアナウンスがない場合は、X端末の電源を入れなおしてみてください。
%% %
%% %\begin{figure}[H]
%% %\begin{center}
%% %\includegraphics[scale=0.3,clip]{login.ps}
%% %\caption{空いている端末}
%% %\label{fig: login panel}
%% %\end{center}
%% %\end{figure}
%% %
%% %空いている端末を見付けたら、{\bf Login:}のところにカーソル
%% %\footnote{点滅する黒い長方形\cursorone あるいはただの縦線 \cursortwo です。}
%% %が来ていることを確認して、先程の登録書にあったユーザー名を入力してみましょう。
%% %ちゃんと入力できましたか? 入力する途中で間違えたら、\BS で
%% %修正してください。大幅に間違えた場合は \ctrl{u}
%% %\footnote{キーボードの左の方にある \ovalbox{ctrl} キーと \ovalbox{\mathstrut u}キーを同時に押します。}を押して clear します。
%% %ユーザー名を入れ終ったら\ret キーを押してください。
%% %
%% %こんどは、パスワードです。パスワードもユーザー名と
%% %同じ要領で入力して行きますが、パスワードを入力して行っても画面には表示されませんので
%% %注意してください。パスワードを入力している最中にどこまで打ったか分からなくなったり、
%% %最初から入力しなおしたくなったときには \ctrl{u}を押して最初からパスワードを入れ直してください。
%% %
%% %正しいユーザー名とパスワードを入力できたら、ログインパネルが消えるはずです。
%% %どちらかが間違っていると、ログインパネルの中で{\bf Login Incorrect}と怒られる
%% %はずです。間違えた場合は、もう一度確認の上、入力しなおしてください。
%% %
%% %さて、これで計算機へのログイン
%% %\footnote{計算機を使い始めることです。}
%% %が完了しました。

%% %ちょっとの間待てば、画面上にウインドウが
%% %開かれます。このウインドウは \kterm と呼ばれます。
%% %画面上にある×印
%% %\footnote{あるいは斜めを向いた矢印かI の形}
%% %はマウスカーソルと呼ばれ、ウインドウの位置を移動したり
%% %\footnote{マウスで移動したいウインドウのタイトル部分を掴んで動かします。}
%% %、どのウインドウにフォーカスするかを決める
%% %\footnote{つまり、キーボードの入力をどのウインドウに向けるかを決めることです。
%% %標準の設定ではマウスカーソルの入っているウインドウにフォーカスします。}
%% %ためのものです。マウスカーソルはマウスで移動します。
%% %
%% %それでは \kterm や Emacs を使って何かしてみましょう。

%% \subsection{パスワードの変更}
%% 一番最初のパスワードは、登録証に書いてあるので、このままでは他人に見られてしまう
%% 可能性もあり安全とはいえません。そこで自分でパスワードを設定してみてください。
%% 簡単な単語や自分の名前などから簡単に推測されるものはパスワードとしては適切とは
%% いえません。逆に適切なパスワードの例としては、
%% A Quick Brown Fox Jumped Over The Lazy Dog のような
%% 文章の頭文字をとり、さらに途中に特殊な記号や数字を混ぜたもの {\sf aqbf\%jotld} などが挙げられます。
%% また、設定したパスワードをメモするのもよくありません。適当に覚えやすいものにして
%% 頭の中に入れておかなくてはいけません
%% \footnote{パスワードを忘れた場合は、教育用計算機センターまで行ってパスワードの変更手続きをしなくては
%% ならないので、相当な手間がかかることになります。}
%% 。

%% さて、何か適当な文字列を考えつきましたか？\
%% パスワードの変更は次のようにします
%% \footnote{教育用計算機センターのシステムでは、一度に多くの人がパスワードの変更をすると、
%% パスワードを管理しているマシンの処理能力を超えてしまうので、教官あるいは TA
%% の指示に従って、順番にパスワードの変更をして下さい。
%% }
%% まず、マウスカーソルをxterm上でクリックしてxtermをアクティブにします。\\
%% \begin{tt}
%% \prompt \underline{passwd} \ret と入力すると
%% \end{tt}
%% \footnote{{\bf passwd}の前についている {\tt \prompt} はユーザーに
%% 入力を促すものでプロンプトと呼ばれるものです。実際には {\bf passwd}以降の
%% 下線の部分を打ちます。}\\
%% {\tt passwd: Changing password for s001500}と出た後、\\
%% {\tt Enter login password:\underline{$********{}$}} \ret\\
%% {\tt New password:\underline{$********{}$}} \ret \\
%% {\tt Re-enter new password:\underline{$********{}$}} \ret\\
%% のように、「古いパスワード、新しく設定するパスワード、もう一度新しいパスワード」
%% の順で入力して行きます。 もし、最後のところで 「{\tt Password file busy -- Try again later}」等
%% といわれたら少し時間がたってから、もう一度トライしてみてください。

%% パスワードの変更が有効になるには、1時間程もかかる場合があります。もし、パスワードを変更したのに
%% 新しいパスワードが有効になっていない場合は、有効になるまで古いパスワードを使っていて下さい。

%% \subsection{ログアウト}
%% 計算機の使用を開始することを {\bf ログイン}とよびましたが、計算機の使用を終了することを
%% {\bf ログアウト}と呼びます。正しくログアウトするためには、ログインの時に開いたxterm以外の
%% ウインドウをすべて閉じます。xterm を閉じるには、
%% 閉じようとしているxtermをアクティブにして、
%% %\footnote{\kterm の中にマウスカーソルを持って行きます。}
%% %し、
%% \\
%% \begin{tt}
%% \prompt \underline{exit}\\
%% \end{tt}
%% と入力します。後に用いることになる Emacs を閉じるには、
%% Emacs ウインドウの左上のほうの{\bf File}と書いてある部分をドラッグし
%% \footnote{マウスの左ボタンで押えて下に動かします。}
%% 、{\bf Exit Emacs}を選ぶか、Emacs にフォーカスして
%% \ctrl{x} \ctrl{c}を続けて押します。

%% ログインの時に開いたウィンドウだけになったら、上と同様に
%% \\
%% \begin{tt}
%% \prompt \underline{exit}\\
%% \end{tt}
%% と入力します。すると、
%% \\
%% \begin{tt}
%% \ux \\
%% \end{tt}
%% とプロンプトが変わります。
%% %コンソールウインドウだけになったら、画面上のウインドウのない所(ルートウインドウと呼びます)を
%% %右ボタンでドラッグして {\bf Exit X-window}を選びます。
%% これで \Machine からログアウトできました。次に、同様にux101からもexitと入力してログアウトし、
%% 最後にiMacのアップルマークをクリックし、メニュー一番下にある「(ログイン名)のログアウト」を
%% クリックして、iMacからのログアウトを完了してください。

%% これまでの部分で、計算機へのログインの仕方とログアウトの仕方が分かったと思います。
%% %ここからは、\kterm と Emacs を使っていろいろなことをしてみましょう。 

